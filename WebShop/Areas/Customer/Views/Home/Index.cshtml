@using System.Linq
@using WebShop.Models.Views
@model ProductSupplierCategoryVM

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8" style="min-height: 55vh">
            <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">

                <!-- Carousel Indicators -->
                <div class="carousel-indicators" >
                    @for (int i = 0; i < Model.Products.Count(); i++)
                    {
                        <button type="button"
                                data-bs-target="#carouselExampleCaptions"
                                data-bs-slide-to="@i"
                                class="@(i == 0 ? "active" : "")"
                                aria-current="@(i == 0 ? "true" : "false")"
                                aria-label="Slide @(i + 1)">
                        </button>
                    }
                </div>

                <!-- Carousel Items -->
                <div class="carousel-inner" style="border-radius: 8px;">
                    @foreach (var product in Model.Products)
                    {
                        
                        <div class="carousel-item @(product.Id == 1 ? "active" : "")">

                            <a asp-controller="Products" asp-action="Details" asp-route-id="@product.Id">
                                <img src="~/img/@(product.Name).jpg" class="d-block carousel-image" alt="@product.Name" />
                            </a>
                            <!-- Carousel Caption -->
                            <div class="carousel-caption d-block" style="background: rgba(0, 0, 0, 0.3); padding: 5px 8px; border-radius: 4px;">
                                <h3 class="text-light" style="margin-bottom: 2px;">@product.Name</h3>
                               
                            </div>

                        </div>
                    }
                </div>

                <!-- Carousel Controls with Custom Color -->
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev" style="filter: brightness(0) saturate(100%) invert(66%) sepia(22%) saturate(1636%) hue-rotate(161deg) brightness(97%) contrast(99%);">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next" style="filter: brightness(0) saturate(100%) invert(66%) sepia(22%) saturate(1636%) hue-rotate(161deg) brightness(97%) contrast(99%);">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Categories Section -->
    <div class="row justify-content-center mt-4">
        <div class="col-12 text-center">
            <h3 class="text-dark">Most Popular Categories</h3>
        </div>
        @foreach (var category in Model.Categories)
        {
            <a class="col-2 m-1 p-1" asp-controller="Products" asp-action="Index" asp-route-categoryId="@category.Id">
                <button class="btn btn-dark">@category.Name</button>
            </a>
        }
    </div>
</div>

